[tool.pyink]
# Pyink is Google's fork of Black, designed for Google Python Style Guide
line-length = 88
target-version = ["py312"]
extend-exclude = '''
/(
  # Exclude common directories
  \.git
  | \.venv
  | venv
  | \.eggs
  | \.tox
  | build
  | dist
  | __pycache__
)/
'''

[tool.mypy]
# Type checking configuration for security-critical code
python_version = "3.12"
warn_return_any = true
warn_unused_configs = true
disallow_untyped_defs = false
disallow_incomplete_defs = false
check_untyped_defs = true
disallow_untyped_decorators = false
no_implicit_optional = true
warn_redundant_casts = true
warn_unused_ignores = true
warn_no_return = true
warn_unreachable = true
strict_equality = true
exclude = [
  "^build/",
  "^dist/",
  "^\\.venv/",
  "^\\.eggs/",
  "^\\.tox/"
]

[tool.pytest.ini_options]
# Pytest configuration
minversion = "6.0"
testpaths = ["tests"]
python_files = "test_*.py"
python_classes = "Test*"
python_functions = "test_*"
addopts = [
  "--verbose",
  "--cov=soc_agent",
  "--cov=installation_scripts",
  "--cov-report=term-missing",
  "--cov-report=html",
  "--cov-report=xml",
  "--cov-fail-under=0"
]

[tool.ruff]
# Ruff is a fast Python linter (replaces isort, bandit, flake8, pylint)
line-length = 88
target-version = "py312"
exclude = [
  ".git",
  ".venv",
  "venv",
  ".eggs",
  ".tox",
  "build",
  "dist",
  "__pycache__"
]

[tool.ruff.lint]
select = [
  "E",    # pycodestyle errors
  "W",    # pycodestyle warnings
  "F",    # pyflakes
  "I",    # isort
  "B",    # flake8-bugbear
  "C4",   # flake8-comprehensions
  "UP",   # pyupgrade
  "S",    # bandit security checks
]
ignore = [
  "E501",  # line too long (handled by pyink)
]

[tool.ruff.lint.per-file-ignores]
"tests/**/*.py" = ["S101"]  # Allow assert in tests

[tool.ruff.lint.isort]
# Configure ruff's isort to use Google style
force-single-line = false
force-sort-within-sections = false
lines-after-imports = 2
